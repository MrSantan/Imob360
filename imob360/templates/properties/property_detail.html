
{% extends 'base.html' %}
{% load static %}

{% block title %}{{ property.title }} - Imob360{% endblock %}

{% block content %}
<section class="section">
    <div class="container">
        <div class="property-detail">
            <!-- Imagem principal -->
            {% if property.image %}
                <img src="{{ property.image.url }}" alt="{{ property.title }}">
            {% else %}
                <img src="https://i.pinimg.com/originals/74/5d/5b/745d5beb1c03a21986905fc34978ae69.jpg" alt="{{ property.title }}">
            {% endif %}
            
            <div class="property-detail-info">
                <div class="property-main-info">
                    <div class="property-price">{{ property.get_price_display }}</div>
                    <h1 class="property-title">{{ property.title }}</h1>
                    <div class="property-address">
                        <i class="fas fa-map-marker-alt"></i>
                        {{ property.address }}, {{ property.city }}, {{ property.state }} - {{ property.zip_code }}
                    </div>
                    
                    <!-- Especificações -->
                    <div class="property-specs">
                        <div class="spec-item">
                            <i class="fas fa-bed"></i>
                            <div class="spec-value">{{ property.bedrooms }}</div>
                            <div class="spec-label">Quarto{{ property.bedrooms|pluralize }}</div>
                        </div>
                        <div class="spec-item">
                            <i class="fas fa-bath"></i>
                            <div class="spec-value">{{ property.bathrooms }}</div>
                            <div class="spec-label">Banheiro{{ property.bathrooms|pluralize }}</div>
                        </div>
                        <div class="spec-item">
                            <i class="fas fa-ruler-combined"></i>
                            <div class="spec-value">{{ property.area }}</div>
                            <div class="spec-label">m²</div>
                        </div>
                        {% if property.parking_spaces > 0 %}
                        <div class="spec-item">
                            <i class="fas fa-car"></i>
                            <div class="spec-value">{{ property.parking_spaces }}</div>
                            <div class="spec-label">Vaga{{ property.parking_spaces|pluralize }}</div>
                        </div>
                        {% endif %}
                    </div>
                    
                    <!-- Descrição -->
                    <div class="property-description">
                        <h3>Descrição</h3>
                        <p>{{ property.description }}</p>
                    </div>
                    
                    <!-- Informações adicionais -->
                    <div class="property-additional-info">
                        <h3>Informações Adicionais</h3>
                        <ul>
                            <li><strong>Tipo:</strong> {{ property.get_property_type_display }}</li>
                            <li><strong>Transação:</strong> {{ property.get_transaction_type_display }}</li>
                            <li><strong>Área:</strong> {{ property.area }} m²</li>
                            <li><strong>Publicado em:</strong> {{ property.created_at|date:"d/m/Y" }}</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Sidebar com contato -->
                <div class="property-sidebar">
                    <div class="contact-form">
                        <h3>Interessado neste imóvel?</h3>
                        <form method="POST">
                            {% csrf_token %}
                            <div class="form-group">
                                <label for="name">Nome:</label>
                                <input type="text" id="name" name="name" required>
                            </div>
                            <div class="form-group">
                                <label for="email">Email:</label>
                                <input type="email" id="email" name="email" required>
                            </div>
                            <div class="form-group">
                                <label for="phone">Telefone:</label>
                                <input type="tel" id="phone" name="phone">
                            </div>
                            <div class="form-group">
                                <label for="message">Mensagem:</label>
                                <textarea id="message" name="message" rows="4" placeholder="Estou interessado neste imóvel..."></textarea>
                            </div>
                            <button type="submit" class="btn-primary">Enviar Mensagem</button>
                        </form>
                    </div>
                    
                    <div class="property-owner">
                        <h4>Proprietário</h4>
                        <p><strong>{{ property.owner.first_name }} {{ property.owner.last_name }}</strong></p>
                        <p>{{ property.owner.email }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
